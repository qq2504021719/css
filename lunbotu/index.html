<!DOCTYPE html>
<html lang="zh">
<head>
	<title>CSS3网页平滑过渡效果</title>
	<meta charset="utf-8">
	<!-- 告诉IE使用最新的渲染模式,防止低版本IE不支持css3的一些属性 -->
	<meta httpd-equiv="X-UA-Compatible" content="IE-edge,chrome=1">
	<!-- 强制页面宽带适应设备宽度,不出现滚动条,不允许用户缩放  -->
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<!-- 默认的全局样式 -->
	<link rel="stylesheet" type="text/css" href="./css/normalize.css">
	<link rel="stylesheet" type="text/css" href="./css/lunbotustyle.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
</head>
<body>
<div class="container">
	<!-- 路轮播图开始 -->
	<div class="lunbotu">
		<input type="radio" name="lunbotu-input" id="tupian-1" data-is="1" checked="checked">
		<div class="inputdiv"></div>
		<input type="radio" name="lunbotu-input" id="tupian-2" data-is="2">
		<div class="inputdiv"></div>
		<input type="radio" name="lunbotu-input" id="tupian-3" data-is="3">
		<div class="inputdiv"></div>
		<input type="radio" name="lunbotu-input" id="tupian-4" data-is="4">
		<div class="inputdiv"></div>
		<input type="radio" name="lunbotu-input" id="tupian-5" data-is="5">
		<div class="inputdiv"></div>
		<div id="tupian">
			<section class="tupian-1 tupian">
				<img src="./img/53d07b97b6595.jpg">
			</section>
			<section class="tupian-2 tupian">
				<img src="./img/53d07b9b9cb86.jpg">
			</section>
			<section class="tupian-3 tupian">
				<img src="./img/53d07b9f6bdf6.jpg">
			</section>
			<section class="tupian-4 tupian">
				<img src="./img/53d07ba363c71.jpg">
			</section>
			<section class="tupian-5 tupian">
				<img src="./img/53d07b9484c86.jpg">
			</section>
		</div>
	</div>
	<script type="text/javascript">
		// 当前图片标识
		var dangqian_tubs = 1;
		// 最大图片数 
		var tup_max = 5;
		// 最小图片数
		var tup_min = 1;
		// 刷新图片标识
		function shauxin_tubs(){
			$('.lunbotu input,.lunbotu input').each(function(){
	            var val=$(this);
	            if(val['context']['checked']==true){
	            	dangqian_tubs = $(this).attr('data-is');
	            }else{
	            }
	        });

		}

		// 显示知道标识图片
		function xianshi_tp_yc(bs){
			console.log(bs);
			$('.lunbotu input,.lunbotu input').each(function(){
	            var val=$(this);
	            var is_bs = $(this).attr('data-is');
	            if(is_bs == bs){
	            	val['context']['checked'] = true;
	            }else{
	            }
	        });
		}



		function _touch(){
		      var startx;//让startx在touch事件函数里是全局性变量。
		      var endx;
		       var el=document.getElementById('tupian');
		      function cons(){   //独立封装这个事件可以保证执行顺序，从而能够访问得到应该访问的数据。
		             console.log(starty,endy);
		             if(startx>endx){  //判断左右移动程序
		             	if(dangqian_tubs < tup_max){
		             		dangqian_tubs = dangqian_tubs+1;
		             		xianshi_tp_yc(dangqian_tubs);
		             	}
		              }else{
		                if(dangqian_tubs > tup_min){
		             		dangqian_tubs = dangqian_tubs-1;
		             		xianshi_tp_yc(dangqian_tubs);
		             	}
		             }
		       }
		       el.addEventListener('touchstart',function(e){
		               var touch=e.changedTouches;
		             startx=touch[0].clientX;
		            starty=touch[0].clientY;
		    });
		     el.addEventListener('touchend',function(e){
		         var touch=e.changedTouches;
		             endx=touch[0].clientX;
		              endy=touch[0].clientY;
		              cons();
		   });
		}
		_touch()
	</script>
	<!-- 轮播图结束 -->
</div>
</body>
</html>